// =============================================================================
// (C) Copyright IBM Corp. 2005-2025. All rights reserved.
//
// Distributed under the terms of the Apache License
// Version 2.0, January 2004.
// (See accompanying file LICENSE or copy at http://www.apache.org/licenses/.)
//
// =============================================================================
#ifndef POISSONIAFUNIT_MDL
#define POISSONIAFUNIT_MDL
#include "../PointNeuronTools/PointNeuronTools.mdl"

Node PoissonIAFUnit Implements SpikeProducer
{
  double Hz;         // rate to fire at
  bool spike;        // current spike status

  Shared
    {
      double deltaT; // in s
      unsigned perturbationT; // when to perturb

      // Flags
      bool op_perturbation;
    }

  InAttrPSet
    {
      string identifier;
    }

  RuntimePhase update(spike);

  SpikeProducer.spike << &spike; // the spike output
}

#endif
