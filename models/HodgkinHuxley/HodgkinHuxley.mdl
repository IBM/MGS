#ifndef HodgkinHuxley_MDL
#define HodgkinHuxley_MDL
#include "../../nti/include/MaxComputeOrder.h"

Interface BufferedAmplitudeProducer {
	//  dyn_var_t []* amplitude;
	dyn_var_t* currentAmplitude;
	dyn_var_t* delayedAmplitude;
}

Interface BufferedTimeProducer {
	dyn_var_t []* pulseTime;
	dyn_var_t* currentPulseTime;
	dyn_var_t* delayedPulseTime;
}

Interface AmplitudeProducer {
	dyn_var_t* amplitude;
}

Interface PreviousAmplitudeProducer {
	dyn_var_t* previousAmplitude;
}

Interface CurrentProducer {
  dyn_var_t* current;
}

Interface CurrentArrayProducer {
  dyn_var_t []* currents;
}

Interface CaCurrentProducer {
  dyn_var_t* CaCurrent;
}

Interface CaCurrentArrayProducer {
  dyn_var_t []* CaCurrents;
}

Interface ReversalPotentialProducer {
  dyn_var_t* reversalPotential;
}

Interface ReversalPotentialArrayProducer {
  dyn_var_t []* reversalPotentials;
}

Interface ConductanceProducer {
  dyn_var_t* conductance;
}

Interface ConductanceArrayProducer {
  dyn_var_t []* conductanceArray;
}

Interface MaximumConductanceArrayProducer {
  dyn_var_t []* maximumConductanceArray;
}

Interface MaximumConductanceProducer {
  dyn_var_t* maximumConductance;
}

Interface VoltageProducer {
   dyn_var_t* voltage;
}

Interface VoltageArrayProducer {
   dyn_var_t []* voltageArray;
}

Interface CaConcentrationProducer {
   dyn_var_t* Ca;
}

Interface CaConcentrationArrayProducer {
   dyn_var_t []* CaConcentrations;
}

Interface MgConcentrationProducer { 
   dyn_var_t* Mg;
}

Interface NaConcentrationProducer {
   dyn_var_t* Na;
}

Interface KConcentrationProducer {
   dyn_var_t* K;
}

Interface WeightProducer {
   dyn_var_t* w;
}

Interface PlasticityProducer {
   dyn_var_t* w;
}

Interface PlasticityToggleProducer {
   int* plasticityToggle;
}

Interface TemperatureProducer {
   dyn_var_t* T;
}

Interface KetamineProducer {
   dyn_var_t* Ketamine;
}

Interface SurfaceAreaProducer {
   dyn_var_t* surfaceArea;
}

Interface ConnectionSurfaceAreaProducer {
   dyn_var_t* surfaceArea;
}

Interface IndexProducer {
   int* index;
}

Interface IndexArrayProducer {
   int* []* indexArray;
}

Constant ExtracellularMedium Implements NaConcentrationProducer, KConcentrationProducer, CaConcentrationProducer, MgConcentrationProducer, TemperatureProducer, KetamineProducer {
  dyn_var_t Na; // intracellular concetrations expressed by ion name alone
  dyn_var_t K;
  dyn_var_t Ca;
  dyn_var_t Mg;
  dyn_var_t T;
  dyn_var_t Ketamine;
  NaConcentrationProducer.Na << &Na;
  KConcentrationProducer.K << &K;
  CaConcentrationProducer.Ca << &Ca;
  MgConcentrationProducer.Mg << &Mg;
  TemperatureProducer.T << &T;
  KetamineProducer.Ketamine << &Ketamine;
}

#endif
